REQUIRE _TIME_ lib\facil.f

: MONTH,
   PARSE-NAME CHARS HERE OVER ALLOT
   SWAP CMOVE
;

CREATE MONTHS
MONTH, Jan
MONTH, Feb
MONTH, Mar
MONTH, Apr
MONTH, May
MONTH, Jun
MONTH, Jul
MONTH, Aug
MONTH, Sep
MONTH, Oct
MONTH, Nov
MONTH, Dec

: MONTH ( n -- addr u )
    1- 3 * MONTHS + 3
;

: _DATE_ ( day mt year -- addr u )
   0 <# # # # # 2DROP [CHAR] . HOLD MONTH DROP 2+ DUP C@ HOLD 1- DUP C@ HOLD 1- C@ HOLD 0
       [CHAR] . HOLD # # 2DROP 0 0 #>
;


\ TEST

: TIME&DATE_H.  TIME&DATE H. H. H. H.  H. H. ;
 TIME&DATE_H.

: TIME&DATE_TTT  TIME&DATE _DATE_ TYPE SPACE _TIME_ TYPE ;
